$(call add-hdrs,fd_ed25519.h fd_x25519.h fd_f25519.h fd_curve25519.h fd_curve25519_scalar.h)
$(call add-objs,fd_f25519 fd_curve25519 fd_curve25519_scalar fd_ed25519_user fd_x25519,fd_ballet)
$(call add-objs,fd_ristretto255,fd_ballet)
$(call make-unit-test,test_ed25519,test_ed25519,fd_ballet fd_util)
$(call make-unit-test,test_ed25519_signature_malleability,test_ed25519_signature_malleability,fd_ballet fd_util)
$(call make-unit-test,test_x25519,test_x25519,fd_ballet fd_util)
# individual field operations
$(call make-unit-test,test_fd_f25519_mul,test_fd_f25519_mul,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_sqr,test_fd_f25519_sqr,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_add,test_fd_f25519_add,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_sub,test_fd_f25519_sub,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_add_nr,test_fd_f25519_add_nr,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_sub_nr,test_fd_f25519_sub_nr,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_neg,test_fd_f25519_neg,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_mul_121666,test_fd_f25519_mul_121666,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_inv,test_fd_f25519_inv,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_frombytes,test_fd_f25519_frombytes,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_tobytes,test_fd_f25519_tobytes,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_set,test_fd_f25519_set,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_is_zero,test_fd_f25519_is_zero,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_pow22523,test_fd_f25519_pow22523,fd_ballet fd_util)
$(call make-unit-test,test_fd_f25519_sqrt_ratio,test_fd_f25519_sqrt_ratio,fd_ballet fd_util)
$(call make-unit-test,test_ristretto255,test_ristretto255,fd_ballet fd_util)
#$(call make-unit-test,fd_curve25519_tables,fd_curve25519_tables,fd_ballet fd_util)
$(call run-unit-test,test_ed25519)
$(call run-unit-test,test_ed25519_signature_malleability)
$(call run-unit-test,test_x25519)
$(call run-unit-test,test_ristretto255)

ifdef FD_HAS_HOSTED
$(call make-fuzz-test,fuzz_ed25519_verify,fuzz_ed25519_verify,fd_ballet fd_util)
$(call make-fuzz-test,fuzz_ed25519_sigverify,fuzz_ed25519_sigverify,fd_ballet fd_util)
$(call make-fuzz-test,fuzz_ed25519_sigverify_diff,fuzz_ed25519_sigverify_diff,fd_ballet fd_util)
endif
